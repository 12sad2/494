<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>موقع 515 المجموعة</title>
<style>
  body {
    font-family: Arial, sans-serif;
    direction: rtl;
    padding: 20px;
    background: black;
    color: red;
    user-select: none; /* منع التحديد */
  }
  h2 {
    color: #007bff; /* لون أزرق */
  }
  input, select, textarea, button {
    padding: 8px;
    margin: 5px 0;
    width: 100%;
    box-sizing: border-box;
    background: #222;
    border: 1px solid red;
    color: red;
  }
  input::placeholder, textarea::placeholder {
    color: #aa4444;
  }
  .token-list {
    max-height: 150px;
    overflow-y: auto;
    background: #111;
    padding: 10px;
    border: 1px solid red;
  }
  .token-status {
    margin: 5px 0;
  }
  .messages-sent {
    background: #111;
    padding: 10px;
    margin-top: 20px;
    border: 1px solid red;
    height: 150px;
    overflow-y: auto;
  }
  button {
    cursor: pointer;
  }
  .green {
    background-color: #007bff; /* زر أزرق */
    color: white;
  }
  .brown {
    background-color: #a0522d;
    color: white;
  }
</style>
</head>
<body>

<h2>موقع 515 المجموعة</h2>

<label>ضع التوكنات (كل توكن بسطر جديد):</label>
<textarea id="tokens" rows="4" placeholder="أدخل التوكنات هنا"></textarea>

<label>اختر السيرفر:</label>
<select id="server">
  <option value="group">قروب</option>
  <option value="room">روم</option>
  <option value="private">خاص</option>
</select>

<label>ادخل ايدي الروم أو القروب أو الشخص:</label>
<input type="text" id="targetId" placeholder="أدخل الايدي هنا" />

<label>اختر الرسائل المرسلة (يمكن تعديلها):</label>
<textarea id="messages" rows="4">يارب
بحبك
</textarea>

<label>اختر سرعة الإرسال (ثواني بين كل رسالة):</label>
<select id="speed">
  <option value="1">1</option>
  <option value="0.9">0.9</option>
  <option value="0.8">0.8</option>
  <option value="0.7">0.7</option>
  <option value="0.6">0.6</option>
  <option value="0.5">0.5</option>
  <option value="0.4">0.4</option>
  <option value="0.3">0.3</option>
  <option value="0.2">0.2</option>
  <option value="0.1">0.1</option>
</select>

<button id="startBtn" class="green">بدء الإرسال التلقائي</button>
<button id="stopBtn" class="brown" disabled>إيقاف الإرسال</button>

<h3>حالة التوكنات:</h3>
<div id="tokenStatus" class="token-list"></div>

<h3>الرسائل المرسلة:</h3>
<div id="messagesSent" class="messages-sent"></div>

<script>
  
  document.addEventListener('keydown', function(e) {
    if (
      e.key === 'F12' ||
      (e.ctrlKey && e.shiftKey && (e.key === 'I' || e.key === 'J')) ||
      (e.ctrlKey && (e.key === 'U' || e.key === 'S'))
    ) {
      alert('غير مسموح استخدام أدوات المطور أو تنزيل الملفات.');
      window.location.href = 'about:blank'; // يخرج من الموقع
      e.preventDefault();
    }
  });

  // منع كليك يمين
  document.addEventListener('contextmenu', function(e) {
    alert('كليك يمين غير مسموح.');
    window.location.href = 'about:blank'; // يخرج من الموقع
    e.preventDefault();
  });

  // منع حفظ الصفحة (Ctrl+S) + منع تنزيل ملفات (مثلاً زر تحميل)
  // يمكن إضافة هنا حسب الحاجة

  let intervalId = null;
  let currentIndex = 0;

  const startBtn = document.getElementById('startBtn');
  const stopBtn = document.getElementById('stopBtn');
  const tokenStatus = document.getElementById('tokenStatus');
  const messagesSent = document.getElementById('messagesSent');

  function checkToken(token) {
    return token.trim().length > 10;
  }

  function sendMessage(token, server, targetId, message) {
    return new Promise((resolve) => {
      setTimeout(() => {
        const p = document.createElement('p');
        p.textContent = `تم إرسال: "${message}" بواسطة التوكن: ${token.substring(0,10)}... إلى ${server} (${targetId})`;
        messagesSent.appendChild(p);
        messagesSent.scrollTop = messagesSent.scrollHeight;
        resolve(true);
      }, 500);
    });
  }

  async function startSending() {
    const tokens = document.getElementById('tokens').value.trim().split('\n').filter(t => t.trim() !== '');
    const server = document.getElementById('server').value;
    const targetId = document.getElementById('targetId').value.trim();
    const messages = document.getElementById('messages').value.trim().split('\n').filter(m => m.trim() !== '');
    const speed = parseFloat(document.getElementById('speed').value) * 1000;

    if (!targetId) {
      alert('يرجى إدخال ايدي الروم أو القروب أو الشخص');
      return;
    }
    if (tokens.length === 0) {
      alert('يرجى إدخال توكن واحد على الأقل');
      return;
    }
    if (messages.length === 0) {
      alert('يرجى إدخال رسالة واحدة على الأقل');
      return;
    }

    tokenStatus.innerHTML = '';
    tokens.forEach(token => {
      const div = document.createElement('div');
      div.className = 'token-status';
      if (checkToken(token)) {
        div.textContent = `توكن صحيح: ${token.substring(0,10)}...`;
        div.style.color = 'lime';
      } else {
        div.textContent = `توكن خاطئ: ${token.substring(0,10)}...`;
        div.style.color = 'orange';
      }
      tokenStatus.appendChild(div);
    });

    startBtn.disabled = true;
    stopBtn.disabled = false;

    currentIndex = 0;

    intervalId = setInterval(async () => {
      if (currentIndex >= messages.length) currentIndex = 0;

      for (const token of tokens) {
        if (!checkToken(token)) continue;
        await sendMessage(token, server, targetId, messages[currentIndex]);
      }
      currentIndex++;
    }, speed);
  }

  function stopSending() {
    if (intervalId) {
      clearInterval(intervalId);
      intervalId = null;
      startBtn.disabled = false;
      stopBtn.disabled = true;
      
      window.location.href = 'about:blank';
    }
  }

  startBtn.addEventListener('click', startSending);
  stopBtn.addEventListener('click', stopSending);

  
  window.addEventListener('beforeunload', function (e) {
    
    e.preventDefault();
    e.returnValue = '';
   
  });
</script>

</body>
</html>
